<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RemoteClaude Server Control Panel</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ RemoteClaude Server Control Panel</h1>
            <div class="version">v3.6.0</div>
        </header>

        <div class="status-section">
            <div class="status-card">
                <h2>ğŸ“Š Server Status</h2>
                <div class="status-indicator">
                    <span id="server-status" class="status-dot running">ğŸŸ¢</span>
                    <span id="status-text">Running</span>
                </div>
                <div class="server-info">
                    <p><strong>Host:</strong> <span id="current-host">Loading...</span></p>
                    <p><strong>Port:</strong> <span id="current-port">8090</span></p>
                    <p><strong>Session Key:</strong> <span id="session-key">Loading...</span></p>
                </div>
            </div>

            <div class="clients-card">
                <h2>ğŸ“± Connected Clients</h2>
                <div id="client-list">
                    <div class="client-item">
                        <span>No clients connected</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="connection-section">
            <div class="mode-selector">
                <h2>ğŸŒ Connection Mode</h2>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="mode-local" name="connection-mode" value="local" checked>
                        <label for="mode-local">
                            <div class="option-header">
                                <span class="option-icon">ğŸ </span>
                                <span class="option-title">Local Network</span>
                            </div>
                            <p class="option-description">åŒã˜WiFiãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†…ã§ã®ã¿æ¥ç¶šå¯èƒ½ï¼ˆè¨­å®šç°¡å˜ï¼‰</p>
                        </label>
                    </div>
                    
                    <div class="radio-option">
                        <input type="radio" id="mode-vpn" name="connection-mode" value="vpn">
                        <label for="mode-vpn">
                            <div class="option-header">
                                <span class="option-icon">ğŸ”’</span>
                                <span class="option-title">WireGuard VPN</span>
                            </div>
                            <p class="option-description">æš—å·åŒ–ã•ã‚ŒãŸã‚»ã‚­ãƒ¥ã‚¢ãªæ¥ç¶šï¼ˆå¤–éƒ¨ã‹ã‚‰ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ï¼‰</p>
                        </label>
                    </div>
                </div>
                
                <button id="switch-mode-btn" class="action-button">
                    ğŸ”„ Connection Mode Switch
                </button>
            </div>
        </div>

        <div class="qr-section">
            <h2>ğŸ“± QR Code for Mobile App</h2>
            <div class="qr-container">
                <div id="qr-code">
                    <div class="qr-placeholder">QR Code will appear here</div>
                </div>
                <div class="connection-url">
                    <h3>Connection URL:</h3>
                    <div id="connection-url" class="url-display">Loading...</div>
                    <button id="copy-url-btn" class="copy-button">ğŸ“‹ Copy URL</button>
                </div>
            </div>
            <button id="regenerate-qr-btn" class="action-button">
                ğŸ”„ Regenerate QR Code
            </button>
        </div>

        <div class="vpn-setup-section" id="vpn-setup" style="display: none;">
            <h2>ğŸ” WireGuard VPN Setup</h2>
            <div class="setup-steps">
                <div class="step">
                    <h3>Step 1: iPhone Setup</h3>
                    <p>1. App Storeã‹ã‚‰WireGuardã‚¢ãƒ—ãƒªï¼ˆç„¡æ–™ï¼‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</p>
                    <p>2. ã‚¢ãƒ—ãƒªã‚’é–‹ãã€Œ+ã€â†’ã€ŒQRã‚³ãƒ¼ãƒ‰ã‹ã‚‰ä½œæˆã€ã‚’é¸æŠ</p>
                    <p>3. ä¸‹ã®QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³</p>
                </div>
                
                <div class="wireguard-qr">
                    <div id="wireguard-qr-code">
                        <div class="qr-placeholder">WireGuard QR Code</div>
                    </div>
                    <button id="show-wireguard-qr" class="action-button">
                        ğŸ“± Show WireGuard QR Code
                    </button>
                </div>
                
                <div class="step">
                    <h3>Step 2: VPN Connection</h3>
                    <p>1. WireGuardã‚¢ãƒ—ãƒªã§è¨­å®šã‚’ä¿å­˜</p>
                    <p>2. VPNæ¥ç¶šã‚’ONã«ã™ã‚‹</p>
                    <p>3. RemoteClaudeã‚¢ãƒ—ãƒªã§ä¸Šè¨˜ã®QRã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦æ¥ç¶š</p>
                </div>
            </div>
        </div>

        <div class="controls-section">
            <h2>ğŸ› ï¸ Server Controls</h2>
            <div class="control-buttons">
                <button id="restart-btn" class="control-button restart">
                    ğŸ”„ Restart Server
                </button>
                <button id="logs-btn" class="control-button">
                    ğŸ“‹ View Logs
                </button>
                <button id="settings-btn" class="control-button">
                    âš™ï¸ Settings
                </button>
            </div>
        </div>

        <div class="logs-section" id="logs-section" style="display: none;">
            <h2>ğŸ“‹ Server Logs</h2>
            <div class="logs-container">
                <pre id="server-logs">Loading logs...</pre>
            </div>
            <div class="logs-controls">
                <button id="refresh-logs-btn">ğŸ”„ Refresh</button>
                <button id="clear-logs-btn">ğŸ—‘ï¸ Clear</button>
                <button id="close-logs-btn">âŒ Close</button>
            </div>
        </div>
    </div>

    <script src="/static/js/dashboard.js"></script>
</body>
</html>